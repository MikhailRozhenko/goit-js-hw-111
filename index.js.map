{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: '51880521-c3154ecfaa100b1983789291c',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios.get('', { params }).then(res => res.data);\n}\n","import { refs } from '../main';\n// Описаний у документації\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(img => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${img.largeImageURL}\">\n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\"/>\n          </a>\n          <div class=\"info\">\n            <p><b>Likes:</b> ${img.likes}</p>\n            <p><b>Views:</b> ${img.views}</p>\n            <p><b>Comments:</b> ${img.comments}</p>\n            <p><b>Downloads:</b> ${img.downloads}</p>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  refs.ulForm.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh(); // оновлюємо SimpleLightbox\n}\n\nexport function clearGallery() {\n  refs.ulForm.innerHTML = '';\n}\n\nexport function showLoader() {\n  refs.loaderForm.classList.add('hidden');\n}\nexport function hideLoader() {\n  refs.loaderForm.classList.remove('hidden');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  inputForm: document.querySelector('input[type=\"text\"]'),\n  buttonForm: document.querySelector('button[type=\"submit\"]'),\n  ulForm: document.querySelector('.gallery'),\n  loaderForm: document.querySelector('.loader'),\n};\n\nfunction showError(message) {\n  iziToast.error({\n    message: message,\n    position: 'topRight',\n    timeout: 1500,\n    pauseOnHover: true,\n    close: true,\n  });\n}\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const input = event.target.elements.search.value;\n\n  if (input.trim() === '') {\n    showError(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    return;\n  }\n\n  clearGallery();\n\n  setTimeout(() => {\n    getImagesByQuery(input)\n      .then(data => {\n        if (!data || data.hits.length === 0) {\n          showError(\n            'Sorry, there are no images matching your search query. Please try again!'\n          );\n          return;\n        }\n        showLoader();\n        return data;\n      })\n      .then(data => {\n        if (data) {\n          createGallery(data.hits);\n        }\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }, 4000);\n});\n"],"names":["axios","getImagesByQuery","query","params","res","lightbox","SimpleLightbox","createGallery","images","markup","img","refs","clearGallery","showLoader","hideLoader","showError","message","iziToast","event","input","data"],"mappings":"owBACAA,EAAM,SAAS,QAAU,2BAElB,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOF,EAAM,IAAI,GAAI,CAAE,OAAAG,CAAM,CAAE,EAAE,KAAKC,GAAOA,EAAI,IAAI,CACvD,CCJA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA,qBAEQA,EAAI,aAAa;AAAA,wBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,+BAG3BA,EAAI,KAAK;AAAA,+BACTA,EAAI,KAAK;AAAA,kCACNA,EAAI,QAAQ;AAAA,mCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,OAI3C,EACA,KAAK,EAAE,EAEVC,EAAK,OAAO,mBAAmB,YAAaF,CAAM,EAClDJ,EAAS,QAAO,CAClB,CAEO,SAASO,GAAe,CAC7BD,EAAK,OAAO,UAAY,EAC1B,CAEO,SAASE,GAAa,CAC3BF,EAAK,WAAW,UAAU,IAAI,QAAQ,CACxC,CACO,SAASG,GAAa,CAC3BH,EAAK,WAAW,UAAU,OAAO,QAAQ,CAC3C,CClCO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,UAAW,SAAS,cAAc,oBAAoB,EACtD,WAAY,SAAS,cAAc,uBAAuB,EAC1D,OAAQ,SAAS,cAAc,UAAU,EACzC,WAAY,SAAS,cAAc,SAAS,CAC9C,EAEA,SAASI,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,WACV,QAAS,KACT,aAAc,GACd,MAAO,EACX,CAAG,CACH,CAEAL,EAAK,KAAK,iBAAiB,SAAUO,GAAS,CAC5CA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,OAAO,MAE3C,GAAIC,EAAM,KAAM,IAAK,GAAI,CACvBJ,EACE,0EACN,EACI,MACD,CAEDH,IAEA,WAAW,IAAM,CACfX,EAAiBkB,CAAK,EACnB,KAAKC,GAAQ,CACZ,GAAI,CAACA,GAAQA,EAAK,KAAK,SAAW,EAAG,CACnCL,EACE,0EACZ,EACU,MACD,CACD,OAAAF,IACOO,CACf,CAAO,EACA,KAAKA,GAAQ,CACRA,GACFb,EAAca,EAAK,IAAI,CAEjC,CAAO,EACA,QAAQ,IAAM,CACbN,GACR,CAAO,CACJ,EAAE,GAAI,CACT,CAAC"}